<div class="header">
    <h1>üìö Library Management System</h1>
    <p class="subtitle">Navigate through your digital library</p>

    <div class="auth-section">
        <% if (locals.member) { %>
            <div class="user-info">
                <span class="welcome">Welcome, <%= member.Name %>!</span>
                <span class="role-badge <%= member.Role %>">
                    <%= member.Role %>
                </span>
                <a href="/profile" class="auth-link">Profile</a>
                <a href="/logout" class="auth-link logout">Logout</a>
            </div>
            <% } else { %>
                <div class="auth-links">
                    <a href="/login" class="auth-link">Login</a>
                    <a href="/register" class="auth-link register">Register</a>
                </div>
                <% } %>
    </div>
</div>

<div class="stats">
    <h3>üìä Current Statistics</h3>
    <p><strong>
            <%= bookCount %>
        </strong> books in the database</p>
</div>

<div class="menu-grid">
    <a href="/table" class="menu-card table">
        <span class="icon">üìã</span>
        <h3>View Books Table</h3>
        <p>Browse all books in a formatted table with search and sorting capabilities</p>
    </a>

    <% if (locals.member && member.Role==='admin' ) { %>
        <a href="/members" class="menu-card members">
            <span class="icon">üë•</span>
            <h3>Member Management</h3>
            <p>Manage library members, accounts, and access permissions</p>
        </a>
        <% } %>

            <a href="/api/books" class="menu-card api">
                <span class="icon">üì°</span>
                <h3>JSON API Data</h3>
                <p>Access raw book data in JSON format for developers and integrations</p>
            </a>

            <a href="/api/database/info" class="menu-card database">
                <span class="icon">üóÑÔ∏è</span>
                <h3>Database Info</h3>
                <p>View database statistics and system information</p>
            </a>
</div>

<footer>
    <p>Library Management System ‚Ä¢ Built with Express.js & SQLite</p>
</footer>

<style>
    .header {
        position: relative;
        margin-bottom: 40px;
    }

    h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 2.5em;
    }

    .subtitle {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 30px;
        font-size: 1.1em;
    }

    .auth-section {
        text-align: center;
        margin-bottom: 20px;
    }

    .user-info {
        background: #f8f9fa;
        padding: 15px 20px;
        border-radius: 8px;
        display: inline-block;
        border: 1px solid #dee2e6;
    }

    .welcome {
        color: #2c3e50;
        font-weight: 600;
        margin-right: 15px;
    }

    .role-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8em;
        font-weight: 600;
        margin-right: 15px;
        text-transform: uppercase;
    }

    .role-badge.admin {
        background: #e74c3c;
        color: white;
    }

    .role-badge.member {
        background: #3498db;
        color: white;
    }

    .auth-links {
        margin: 10px 0;
    }

    .auth-link {
        display: inline-block;
        padding: 8px 16px;
        margin: 0 5px;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .auth-link:not(.logout):not(.register) {
        background: #3498db;
        color: white;
    }

    .auth-link.register {
        background: #27ae60;
        color: white;
    }

    .auth-link.logout {
        background: #e74c3c;
        color: white;
    }

    .auth-link:hover {
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .stats {
        text-align: center;
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 40px;
        border-left: 4px solid #3498db;
    }

    .menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 30px;
    }

    .menu-card {
        background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
        color: white;
        padding: 30px 25px;
        border-radius: 12px;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    .menu-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .menu-card.api {
        background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
    }

    .menu-card.table {
        background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
    }

    .menu-card.database {
        background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
    }

    .menu-card.members {
        background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
    }

    .menu-card h3 {
        margin: 0 0 15px 0;
        font-size: 1.4em;
    }

    .menu-card p {
        margin: 0;
        opacity: 0.9;
        line-height: 1.5;
    }

    .icon {
        font-size: 2em;
        margin-bottom: 15px;
        display: block;
    }

    footer {
        text-align: center;
        margin-top: 40px;
        color: #7f8c8d;
        font-size: 0.9em;
    }
</style>